{
  "test1_new_format_v0_4_0": {
    "description": "New format (v0.4.0) - nested address with locality",
    "expectedResult": "Should succeed with no warnings",
    "payload": {
      "cartId": "test-cart-new-format",
      "version": 1,
      "payments": [
        {
          "type": "tokenised",
          "amount": {
            "amount": 49.99,
            "currencyCode": "GBP"
          },
          "tokenisedPayment": {
            "merchantId": "YOUR_MID",
            "paymentToken": "tkn_new_format",
            "tokenType": "transient",
            "billTo": {
              "firstName": "John",
              "lastName": "Doe",
              "email": "john@example.com",
              "address": {
                "address1": "123 Main Street",
                "locality": "London",
                "postalCode": "SW1A 1AA",
                "country": "GB"
              }
            }
          }
        }
      ]
    }
  },
  "test2_old_format_v0_3_0": {
    "description": "Old format (v0.3.0) - flat address with city - DEPRECATED but still works",
    "expectedResult": "Should succeed with deprecation warnings in logs",
    "payload": {
      "cartId": "test-cart-old-format",
      "version": 1,
      "payments": [
        {
          "type": "tokenised",
          "amount": {
            "amount": 49.99,
            "currencyCode": "GBP"
          },
          "tokenisedPayment": {
            "merchantId": "YOUR_MID",
            "paymentToken": "tkn_old_format",
            "tokenType": "TRANSIENT",
            "billTo": {
              "firstName": "John",
              "lastName": "Doe",
              "address1": "123 Main Street",
              "city": "London",
              "postalCode": "SW1A 1AA",
              "country": "GB",
              "email": "john@example.com"
            }
          }
        }
      ]
    }
  },
  "test3_3ds_flow_structured": {
    "description": "3DS flow with structured phase-based data",
    "expectedResult": "Should return 202 with 3DS challenge required",
    "payload": {
      "cartId": "test-cart-3ds-flow",
      "version": 1,
      "payments": [
        {
          "type": "tokenised",
          "amount": {
            "amount": 75.50,
            "currencyCode": "EUR"
          },
          "tokenisedPayment": {
            "merchantId": "YOUR_MID",
            "paymentToken": "tkn_3ds_test",
            "tokenType": "transient",
            "billTo": {
              "firstName": "Jane",
              "lastName": "Smith",
              "email": "jane@example.com",
              "address": {
                "address1": "456 High Street",
                "locality": "Manchester",
                "postalCode": "M1 1AA",
                "country": "GB"
              }
            },
            "threeDSData": {
              "phase": "setup",
              "setup": {
                "referenceId": "d5180465-bae3-4df7-940d-3b029b7de81a",
                "authenticationInformation": {
                  "deviceCollectionAccessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkNTE4MDQ2NS1iYWUzLTRkZjctOTQwZC0zYjAyOWI3ZGU4MWEiLCJpYXQiOjE3Mjk2MzMyOTgsImlzcyI6IjY1YmI0YjhlNTNmNGQ1NmZiYWU5Y2M3MiIsIk9yZ1VuaXRJZCI6IjY1YmI0YjhlNTNmNGQ1NmZiYWU5Y2M3MSJ9.c_6y89ZFKJKfHHrJaHCN4FOV1IvXpf4ZFQK8pTQnX5M",
                  "deviceDataCollectionUrl": "https://centinelapistag.cardinalcommerce.com/V1/Cruise/Collect"
                }
              }
            }
          }
        }
      ]
    }
  },
  "test4_mixed_payment_methods": {
    "description": "Mixed payment methods - gift voucher + credit card (new format)",
    "expectedResult": "Should succeed showing both payment methods processed",
    "payload": {
      "cartId": "test-cart-mixed",
      "version": 1,
      "payments": [
        {
          "type": "stored",
          "amount": {
            "amount": 20.00,
            "currencyCode": "GBP"
          },
          "storedPayment": {
            "paymentMethod": "giftvoucher",
            "giftVoucherDetails": {
              "voucherCode": "GV-2024-ABC123",
              "pin": "1234"
            }
          }
        },
        {
          "type": "tokenised",
          "amount": {
            "amount": 29.99,
            "currencyCode": "GBP"
          },
          "tokenisedPayment": {
            "merchantId": "YOUR_MID",
            "paymentToken": "tkn_xyz789def",
            "tokenType": "transient",
            "billTo": {
              "firstName": "Jane",
              "lastName": "Smith",
              "email": "jane.smith@example.com",
              "address": {
                "address1": "456 High Street",
                "locality": "Manchester",
                "postalCode": "M1 1AA",
                "country": "GB"
              }
            }
          }
        }
      ]
    }
  }
}
